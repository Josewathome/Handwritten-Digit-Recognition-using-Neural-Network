var sas=window.sas||{};sas.utils=sas.utils||{},sas.events=sas.events||{},sas.cmp=sas.cmp||{},sas.consent=sas.consent||{},sas.debugMode=sas.debugMode||{},sas.debugMode.logsQueue=sas.debugMode.logsQueue||[],sas.debugMode.bannersQueue=sas.debugMode.bannersQueue||[],function(){var e=window.sas;Date.now||(Date.now=function(){return(new Date).getTime()}),e.utils.extend=function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];if(n&&"object"==typeof n)for(var a in n)void 0!==n[a]&&(Array.isArray(n[a])?t[a]=n[a]:"object"==typeof n[a]?t[a]=e.utils.extend({},t[a],n[a]):t[a]=n[a])}return t},e.utils.Latch=function(e){for(var t=[],s={},n=e=e||[],a=!1,i=0;i<n.length;i++)s[e[i]]={};var o=function(){if(!a){for(var e in s)if(!s[e].status)return;a=!0;for(var n=l(),i=0;i<t.length;i++)t[i].apply(this,n)}},l=function(){for(var e=[],t=0;t<n.length;t++)e.push(s[n[t]].result);return e};this.isComplete=function(){return a},this.notify=function(e,t){s[e]&&(s[e].status=!0,s[e].result=t,o())},this.addListener=function(e){null!=e&&(a?e():t.push(e))},o()},e.utils.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0},e.utils.parseCookies=function(e){for(var t={},s=e.split("; "),n=0;n<s.length;n++){var a=s[n],i=a.indexOf("="),o=a.substring(0,i),l=a.substring(i+1);t[o]=l}return t},e.utils.setCookie=function(e,t,s,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var i="expires="+a.toUTCString();e.cookie=t+"="+s+";"+i+";path=/"};var t=null;e.utils.checkIfLocalStorageAvailable=function(){if(null==t)try{"undefined"!=typeof localStorage?(localStorage.setItem("smartadserver_feature_test","1"),"1"===localStorage.getItem("smartadserver_feature_test")?(localStorage.removeItem("smartadserver_feature_test"),t=!0):t=!1):t=!1}catch(e){t=!1}return t},e.utils.getLocalStorageItemSafely=function(t){return e.utils.checkIfLocalStorageAvailable()?window.localStorage.getItem(t):null},e.utils.setLocalStorageItemSafely=function(t,s){return!!e.utils.checkIfLocalStorageAvailable()&&(window.localStorage.setItem(t,s),!0)},e.utils.isAddtlConsentBlocked=function(){return void 0!==window.sas_blockAddtlConsent&&!!window.sas_blockAddtlConsent},e.events.addEvent=function(e,t,s){if(e&&t&&s)return e.attachEvent?e.attachEvent("on"+t,s):e.addEventListener&&e.addEventListener(t,s,!1),{removeEvent:function(){e.detachEvent?e.detachEvent("on"+t,s):e.removeEventListener&&e.removeEventListener(t,s,!1)}}},e.events.addLoadEvent=function(t,s){if(t&&s){var n="load",a=function(){return!0};(e.utils.getIEVersion()<11||t==document)&&(n="readystatechange",a=function(){if(!t.readyState||"complete"==t.readyState||"loaded"==t.readyState)return!0});var i=e.events.addEvent(t,n,(function(){a()&&(i.removeEvent(),s.apply(this,arguments))}))}},e.events.addMessageEvent=function(t,s){t&&s&&e.events.addEvent(t,"message",(function(){s.apply(this,arguments)}))},e.events._events=e.events._events||{},e.events._history=e.events._history||[],e.events.on=function(t,s,n){e.events._events[t]=e.events._events[t]||{que:[]};var a=e.events._events[t];n&&(a=a[n]=a[n]||{que:[]}),a.que.push(s)},e.events.fire=function(t,s,n){e.events._history.push({eventName:t,data:e.utils.extend({timestamp:Date.now()},s),id:n});var a=e.events._events[t];if(a){var i;if(n&&a[n])for(i=0;i<a[n].que.length;i++)a[n].que[i](e.utils.extend({},s),n);for(i=0;i<a.que.length;i++)a.que[i](e.utils.extend({},s),n)}},e.events.off=function(t,s,n){var a=e.events._events[t];if(a){var i=a.que;if(n&&(i=a[n].que),i){var o=i.indexOf(s);o>=0&&i.splice(o,1)}}},e.events.history=function(t){for(var s=[],n=0;n<e.events._history.length;n++){var a=e.events._history[n];t&&a.eventName!=t||s.push(e.utils.extend({},a))}return s}}(),(()=>{"use strict";(()=>{class e{constructor(e,t){this.apiWasFound=!1,this.apiAnsweredOk=!1,this.eventMessageListenerAdded=!1,this.hasAddtlConsent=!1,this.apiCallbacks={},this.myCmpCallbackFinished=void 0,this.maxSearchRetry=50,this.doubleCallbackTime=10,this.retryNumber=0,this.retryInterval=0,this.name=e.name,this.sasCookieName=e.sasCookieName,this.sasAddtlCookieName=e.sasAddtlCookieName,this.version=e.version,this.getConsentFunction=e.getConsentFunction,this.apiFunctionName=e.apiFunctionName,this.consentObjectConsentDataName=e.consentObjectConsentDataName,this.consentObjectAdditionalConsentDataName=e.consentObjectAdditionalConsentDataName,this.apiLocator=e.apiLocator,this.sentMessage=e.sentMessage,this.postMessageReturnObjectName=e.postMessageReturnObjectName,t&&(this.myCmpCallbackFinished=()=>t()),this.lastCallbackResult={id:"",addtlConsent:"",eventStatus:"",gdprApplies:void 0,timeStamp:0,vendor:{consents:{},legitimateInterests:{}}}}get gdprApplies(){return this._gdprApplies}cmpCallback(e,t){if(!t||!e||void 0===e[this.consentObjectConsentDataName]||null===e[this.consentObjectConsentDataName])return void window.sas.events.fire("ApiAnswered Wrong answer",{consent:e,success:t,failType:"Wrong answer",version:this.version},this.name);this.apiAnsweredOk=!0,this._gdprApplies=e.gdprApplies,this.consentObjectAdditionalConsentDataName&&e[this.consentObjectAdditionalConsentDataName]&&(this.hasAddtlConsent=!0);const s={consentObject:e,name:this.consentObjectConsentDataName};if(this.hasAddtlConsent&&(s.additionalConsent=this.consentObjectAdditionalConsentDataName),window.sas.events.fire("ApiAnswered Valid answer",s,this.name),window.sas.utils.setLocalStorageItemSafely(this.sasCookieName,e[this.consentObjectConsentDataName]),this.hasAddtlConsent){let t=e[this.consentObjectAdditionalConsentDataName];Array.isArray(t)&&(t=JSON.stringify(t)),window.sas.utils.setLocalStorageItemSafely(this.sasAddtlCookieName,t)}this.myCmpCallbackFinished&&this.myCmpCallbackFinished()}callApiLocal(){var e;const t=window[this.apiFunctionName];if(void 0!==t&&"[object Function]"===Object.prototype.toString.call(t)){if(this.apiWasFound=!0,window.sas.events.fire("ApiCalled",{location:"Same Iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const s=()=>{const e=t("getGPPData");this.cmpCallback(e,null!=e)},n=(null===(e=t("ping"))||void 0===e?void 0:e.gppVersion)||"1";Number(n)<1.1&&s(),t(this.getConsentFunction,(e=>{Number(n)<1.1?s():this.cmpCallback(e.pingData,null!=e.pingData)}))}else t(this.getConsentFunction,this.version,((e,t)=>{this.cmpCallback(e,t)}));return!0}return!1}callApiInFrame(){let e,t=window;for(;!e;){try{t.frames[this.apiLocator]&&(e=t)}catch(e){}if(t===window.top)break;t=t.parent}if(e){this.apiWasFound=!0,window.sas.events.fire("ApiFrameFound",{version:this.version},this.name);const t=(t,s,n)=>{const a="smartjs"+Math.random();this.apiCallbacks[a]=n,this.sendPostMessage(t,s,a,e)};if(this.eventMessageListenerAdded||(window.sas.events.addEvent(window,"message",(e=>{this.readPostMessageResponse(e)})),this.eventMessageListenerAdded=!0),window.sas.events.fire("ApiCalled",{location:"Different iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const s="smartjsPing"+Math.random();this.apiCallbacks[s]=e=>{var s,n;((null===(s=e.returnValue)||void 0===s?void 0:s.gppVersion)?Number(null===(n=e.returnValue)||void 0===n?void 0:n.gppVersion):1)<1.1&&t("getGPPData",void 0,((e,t)=>{this.cmpCallback(e,t)}))},this.sendPostMessage("ping",null,s,e)}return t(this.getConsentFunction,void 0,((e,t)=>{this.cmpCallback(e,t)})),!0}return!1}sendPostMessage(e,t,s,n){const a={};a[this.sentMessage]={command:e,parameter:t,callId:s,version:this.version},null==n||n.postMessage(a,"*")}readPostMessageResponse(e){const t="string"==typeof e.data&&-1!==e.data.indexOf(this.postMessageReturnObjectName)?JSON.parse(e.data):e.data;if(t[this.postMessageReturnObjectName]){const s=t[this.postMessageReturnObjectName];"function"!=typeof this.apiCallbacks[s.callId]||this.isCallbackDouble(s.callId,e)||(this.assignLastCallback(s.callId,e),this.apiCallbacks[s.callId](s.returnValue,s.success,this.version))}}isCallbackDouble(e,t){var s,n,a;let i=!1;const o=null===(n=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.__tcfapiReturn)||void 0===n?void 0:n.returnValue;return e===this.lastCallbackResult.id&&(null==t?void 0:t.timeStamp)-this.lastCallbackResult.timeStamp<this.doubleCallbackTime&&this.lastCallbackResult.addtlConsent===(null==o?void 0:o.addtlConsent)&&this.lastCallbackResult.eventStatus===(null==o?void 0:o.eventStatus)&&this.lastCallbackResult.gdprApplies===(null==o?void 0:o.gdprApplies)&&JSON.stringify(this.lastCallbackResult.vendor.consents)===JSON.stringify(null===(a=null==o?void 0:o.vendor)||void 0===a?void 0:a.consents)&&(i=!0),i}assignLastCallback(e,t){var s,n;const a=null===(n=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.__tcfapiReturn)||void 0===n?void 0:n.returnValue;this.lastCallbackResult.id=e,this.lastCallbackResult.addtlConsent=null==a?void 0:a.addtlConsent,this.lastCallbackResult.eventStatus=null==a?void 0:a.eventStatus,this.lastCallbackResult.gdprApplies=null==a?void 0:a.gdprApplies,this.lastCallbackResult.timeStamp=null==t?void 0:t.timeStamp,(null==a?void 0:a.vendor)&&(this.lastCallbackResult.vendor=Object.assign({},null==a?void 0:a.vendor))}tryCallApi(e){this.callApiLocal()||(e%10==0&&window.sas.events.fire("ApiNotFoundInFrame",{retryNumber:e},this.name),this.callApiInFrame())}searchApiInterval(){this.apiWasFound&&this.apiAnsweredOk||(this.retryNumber%10==0&&window.sas.events.fire("ApiSearch",{retryNumber:this.retryNumber},this.name),this.tryCallApi(this.retryNumber)),(this.retryNumber>this.maxSearchRetry||this.apiWasFound&&this.apiAnsweredOk)&&clearInterval(this.retryInterval),this.retryNumber++}searchApi(){const e="intervalCounterNumber"+this.name;this.retryInterval=window[e]=window.setInterval((()=>{this.searchApiInterval()}),500),this.searchApiInterval()}}window.SasIabApi=e})()})();